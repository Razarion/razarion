<div class="flex flex-column">
  <div class="mr-2">
    <p-toolbar>
      <div class="p-toolbar-group-left">
        <p-fileUpload chooseLabel="Import"
                      chooseIcon="pi pi-folder-open"
                      mode="basic"
                      styleClass="p-button-sm"
                      [auto]=true
                      [customUpload]=true
                      (uploadHandler)="onImport($event)">
        </p-fileUpload>
        <i>&nbsp;</i>
        <p-button label="Dump"
                  icon="pi pi-save"
                  styleClass="p-button-sm"
                  (onClick)="onDump()"></p-button>
      </div>
    </p-toolbar>
  </div>

  <div class="mr-2">
    <p-panel header="Save Selected">
      <div class="field grid">
        <span class="col-fixed" style="width:100px">Name</span>
        <div *ngIf="selectedThreeJsName" style="border: 1px solid #304562;
                     background: #17212f;
                     border-radius: 3px;
                     padding: 0.5rem 0.5rem;
                     width: 10em;">
          {{selectedThreeJsName}}
        </div>
      </div>
      <div class="field grid">
        <label for="Export" class="col-fixed" style="width:100px">Material only</label>
        <div class="col">
          <p-checkbox id="Export" [(ngModel)]="exportMaterialOnly" [binary]="true"
                      [disabled]="selectedThreeJsObject == null || !selectedThreeJsObject.material"></p-checkbox>
        </div>
      </div>
      <div class="field grid">
        <label for="model" class="col-fixed" style="width:100px">Three.js Model</label>
        <div class="col">
          <p-dropdown id="model" [placeholder]="'...'" [(ngModel)]="selectedThreeJsModel" [options]="threeJsModels">
          </p-dropdown>
        </div>
      </div>
      <div class="field grid">
        <p-button id="upload" type="button" label="Save" icon="pi pi-cloud-upload" styleClass="p-button-sm"
                  [disabled]="selectedThreeJsModel == null"
                  (onClick)="onSave()"></p-button>
      </div>
    </p-panel>
  </div>

  <div class="mr-2">
    <p-panel header="Render Engine">
      <p-tree [value]="renderEngineDisplayTree" selectionMode="single" (onNodeSelect)="onTreeSelectionChanged($event)">
      </p-tree>
    </p-panel>
    <p-panel [toggleable]="true" header="Render Engine Details">
      <property-table [angular-tree-node-data]=gwtAngularPropertyTable></property-table>
    </p-panel>
  </div>
</div>
