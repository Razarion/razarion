apiVersion: cloud.google.com/v1
kind: BackendConfig
metadata:
  name: razarion-cdn-config
spec:
  timeoutSec: 3600    # 1h - required for WebSocket connections (default 30s kills idle sockets)
  cdn:
    enabled: true
    cachePolicy:
      includeHost: true
      includeProtocol: true
      includeQueryString: false
    cacheMode: CACHE_ALL_STATIC
    defaultTtl: 86400        # 24h f√ºr statische Assets
    maxTtl: 604800           # 7 Tage max
    clientTtl: 86400         # Browser Cache 24h
  healthCheck:
    requestPath: /actuator/health/liveness
    port: 8080
    checkIntervalSec: 30
    timeoutSec: 10
    healthyThreshold: 1
    unhealthyThreshold: 5
