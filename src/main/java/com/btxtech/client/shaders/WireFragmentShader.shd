#extension GL_OES_standard_derivatives : enable

precision mediump float;

uniform sampler2D uSampler;

varying vec3 vBarycentric;
varying vec2 vTextureCoord;

float edgeFactor(){
    vec3 d = fwidth(vBarycentric);
    vec3 a3 = smoothstep(vec3(0.0), d * 1.5, vBarycentric);
    return min(min(a3.x, a3.y), a3.z);
}

void main(void) {
   vec4 texColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
   gl_FragColor.rgb = mix(vec3(1.0, 0.0, 0.0), texColor.rgb, edgeFactor());
}

